<!-- Montero Gómez Evelin -->
<!-- Programación Web -->
<!DOCTYPE html>

<html lang="es">

    <head>
        <meta charset="UTF-8">
        <title>Ejercicio 9.24</title>
        <link rel="stylesheet" href="../../styles/styles-ejer.css">
        <!-- Fuente -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Clicker+Script&display=swap" rel="stylesheet">
        <script>
            let numeros = [], resp, aciertos = 0, inc = 0, contador = 0, primera = true;
            let boton, botonR;
    
            function iniciar(){
                boton = document.getElementById("botonResponder");
                botonR = document.getElementById("botonReiniciar");
                let campoRes = document.getElementById("campoRes");
                let mensajeR = document.getElementById("mensajeR");
                let preguntaTexto = document.getElementById("preguntaTexto");
                let correctos = document.getElementById("correctos");
                let incorrectos = document.getElementById("incorrectos");
                let mensajeFinal = document.getElementById("mensajeFinal");
                
                validar();
    
                boton.addEventListener("click", validar, false);
                botonR.addEventListener("click", reinicar, false);
                
            }
    
            function reinicar(){
                boton.disabled = false;
                //boton.hidden = false;
                botonR.disabled = true;
                //botonR.hidden = true;
                aciertos = 0;
                inc = 0;
                contador = 0;
                mensajeFinal.innerHTML = "";
                mensajeR.innerHTML = "";
                correctos.innerHTML = "Respuestas correctas: " + aciertos;
                incorrectos.innerHTML = "Respuestas incorrectas: " + inc;
                campoRes.value = "";
                generar();
            }
    
            function validar(){
                if(primera)
                    generar();
                else if(contador == 10){
                    if(10 * aciertos < 75 || aciertos == 0){
                        mensajeFinal.innerHTML = "Ha respondido 10 preguntas. <br>Pida ayuda adicional a su instructor.";
                        campoRes.value = "";
                        boton.disabled = true;
                        botonR.disabled = false;
                    }else{
                        mensajeFinal.innerHTML = "Ha respondido 10 preguntas.";
                        campoRes.value = "";
                        boton.disabled = true;
                        botonR.disabled = false;
                    }
                    
                }
                else{
                    if(parseFloat(resp).toFixed(2) == parseFloat(campoRes.value).toFixed(2)){
                        mensajeR.innerHTML = respCorrectas();
                        aciertos++;
                        contador++;
                        correctos.innerHTML = "Respuestas correctas: " + aciertos;
                        campoRes.value = "";
                        generar();
                    }else{ 
                        mensajeR.innerHTML = respIncorrectas();
                        inc++;
                        contador++;
                        incorrectos.innerHTML = "Respuestas incorrectas: " + inc;
                        campoRes.value = "";
                        generar();
                    }
                }
            }
    
            function respCorrectas(){
                let selec = Math.floor(Math.random() * (4 - 1 + 1) + 1 );
                switch(selec){
                    case 1:
                        return "Muy bien.";
                    case 2:
                        return "Excelente.";
                    case 3:
                        return "Buen trabajo.";
                    case 4:
                        return "Siga así.";
                }
            }
            function respIncorrectas(){
                let selec = Math.floor(Math.random() * (4 - 1 + 1) + 1 );
                switch(selec){
                    case 1:
                        return "No. Intente de nuevo.";
                    case 2:
                        return "Equivocado. Trate una vez más.";
                    case 3:
                        return "No se dé provencido.";
                    case 4:
                        return "No. Siga intentando.";
                }
            }
    
            function generar(){
                numeros.shift();
                numeros.shift();
                numeros.shift();
                numeros.push(Math.floor(Math.random() * (9 - 1 + 1) + 1 )); //primer número
                numeros.push(Math.floor(Math.random() * (9 - 1 + 1) + 1 )); //segundo número
                numeros.push(Math.floor(Math.random() * (4 - 1 + 1) + 1 )); //pregunta
    
                switch(numeros[2]){
                    case 1://pregunta de suma
                        //document.writeln("Pregunta 1");
                        preguntaTexto.innerHTML = "¿Cuánto es " + numeros[0] + " más " + numeros[1] + "?";
                        resp = numeros[0] + numeros[1];
                        break;
                    case 2://pregunta de resta
                        //document.writeln("Pregunta 2");
                        preguntaTexto.innerHTML = "¿Cuánto es " + numeros[0] + " menos " + numeros[1] + "?";
                        resp = numeros[0] - numeros[1];
                        break;
                    case 3://pregunta de producto
                        //document.writeln("Pregunta 3");
                        preguntaTexto.innerHTML = "¿Cuánto es " + numeros[0] + " por " + numeros[1] + "?";
                        resp = numeros[0] * numeros[1];
                        break;
                    case 4://pregunta de división
                        //document.writeln("Pregunta 4");
                        preguntaTexto.innerHTML = "¿Cuánto es " + numeros[0] + " entre " + numeros[1] + "?";
                        resp = numeros[0] / numeros[1];
                        break;
                }
                primera = false;
            }
    
            window.addEventListener("load", iniciar, false);
        </script>
    </head>
    <style type="text/css">
        ul{
            list-style: none;
        }
    </style>

    <body>

        <!-- Banner -->
    <header class="banner">
        <a href="../../index.html">
            <label>
                <input type="submit" name="regresar" class="boton-indice" value="Regresar">
            </label>
        </a>
        <h1 id="titulo">Capítulo 9: Ejercicios</h1>
        <p id="parrafo">
            <strong>
                < Ejercicio 9.24 />
            </strong>
        </p>
        <h2 id="nombre">Montero G&oacute;mez Evelin</h2>
        <!-- Botón direccionador a índice -->
    </header>
    
    <header class="encabezado">
        <h1 id="encabezado">CAI modificado</h1>
    </header>

        <!-- Contenedor -->
        <article class="contenedor">
            <p>
                Los sistemas más sofisticados de instrucción asistida por computadora monitorean el rendimiento del estudiante durante cierto tiempo. La decisión de comenzar un nuevo tema se basa a menuudo en el éxito del estudiante con los temas anteriores. Modifique el programa del ejercicio 9.23 para contar el número de respuestas correctas e incorrectas que escribió el estudiante. Una vez que el estudiante responda 10 preguntas, usted deberá calcular el porcentaje de respuestas correctas. Si el procentaje es menor del 75 por ciento, muestre <em>Pida ayuda adicional a su instructor</em> y reinicie el cuestionario para que otro estudiante pueda intentarlo.
            </p>
            <form action="#">
                <p id="preguntaTexto"></p>
                
                <input type="number" name="Respuesta" id="campoRes">
                <input type="button" value="Responder" id="botonResponder">
            </form>
            <p id="mensajeR"></p>
            <p id="correctos">Respuestas correctas: 0</p>
            <p id="incorrectos">Respuestas incorrectas: 0</p>
            <h3 id="mensajeFinal"></h3>
            <input type="button" value="Reiniciar" id="botonReiniciar" disabled>
          
        </article>

        <section class="botones">
            <a href="Ejercicio9_23.html">    <!-- anterior -->
                <label>
                    <input type="submit" name="anterior" class="anterior" value="Anterior"/>
                </label>
            </a>
            <a href="Ejercicio9_1.html">
                <label>
                    <input type="submit" name="inicio" class="inicio" value="Inicio">
                </label>
            </a>
            <a href="Ejercicio9_25.html">    <!-- siguiente -->
                <label>
                    <input type="submit" name="siguiente" class="siguiente" value="Siguiente">
                </label>
            </a>
        </section>
    </body>
</html>